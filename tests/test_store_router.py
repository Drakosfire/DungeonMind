def extract_title(json_data):
    # print(f'JSON data: {json_data}')
    print(f'Type of JSON data: {type(json_data)}')
    print(f'Keys of JSON data: {json_data.keys()}')
    title = ''

    for block_id, block_data in json_data['storeData'].items():
        print(f'Block ID: {block_id}, Type: {block_data["type"]}')
        if block_data['type'] == 'title':
            print(f'Title found: {block_data["title"]}')
            title = block_data['title']
            break

    sanitized_title = ''.join('_' if not c.isalnum() else c for c in title).strip('_')
    # print(f'Sanitized title: {sanitized_title}')

    return sanitized_title  


test_data = {'114186465303335312348_Infernal_Ice_Creamery': {'user_id': '114186465303335312348', 'storeData': {'block-2': {'imgUrl': 'https://imagedelivery.net/SahcvrNe_-ej4lTB6vsAZA/323c625b-22c6-4169-2cf3-c420e3181000/public', 'sdprompt': 'A highly detailed fantasy scene of a pop-up ice cream stand operated by an ice demon. The stand sports frosty banners swaying in the air, radiating an icy glow amidst steamy fog. Mysterious runes are inscribed along its wooden facade, which is glistening with frost and decorated with fiendish motifs. Iron chairs only fit for creatures of all descriptions wobble around the creepy but inviting stand.', 'type': 'image', 'dataPageId': 'block-container'}, 'block-0': {'title': 'Infernal Ice Creamery', 'type': 'title', 'description': 'An ephemeral pop-up frost haven that appears unbidden, offering all sorts of diabolically delicious ice cream treats. While the cold treats tempt the innocent, the flavors themselves are said to hide a touch of infernal magic. Operated by a glacial demon who adores decadence, this transient shop trundles through dimensions to share its frozen creations beset with spells that maintain vigor and fascination. Renowned for the most unexpected and delicious flavors, audiences either sing praises of it as a must-visit spectacle or share eerie tales of haunting cravings that follow.', 'dataPageId': 'block-container'}, 'block-10': {'price': '25 gold pieces per casting', 'description': 'Gelax inscribes new spells into favorite flavors, influencing drinkers to experience fleeting memories or emotional quirks.', 'type': 'services', 'dataPageId': 'block-container', 'name': 'Flavor Infusion'}, 'block-6': {'imgUrl': 'https://imagedelivery.net/SahcvrNe_-ej4lTB6vsAZA/a5c4837f-65ba-4655-5699-7c1287636900/public', 'sdprompt': 'A highly detailed fantasy sketch of Snerx, an ice imp with a wicked grin, busy laying out improbable ingredients, with snowflakes dancing around him.', 'type': 'image', 'dataPageId': 'block-container'}, 'block-9': {'description': 'Ethereal icebound spirits summoned to safeguard against overly keen flavor-thieves.', 'type': 'security', 'dataPageId': 'block-container', 'mechanics': 'They freeze any approaching thieves in a shield of ice spiked with forgetfulness.', 'name': 'Frost Wraiths'}, 'block-1': {'store-reputation': 'Renowned for the most unexpected and delicious flavors, audiences either sing praises of it as a must-visit spectacle or share eerie tales of haunting cravings that follow.', 'type': 'store-properties', 'store-specialties': ['Soul Numbing Sorbet'], 'store-services': ['Flavor Infusion'], 'store-type': 'Dessert Shop', 'store-location': 'Frostwick', 'store-street': 'Chillbone Alley', 'store-hours': 'Enigmatic, appears at random', 'store-rumors': ['Those who devour the ice cream under a full moon gain access to suppressed memories.', 'Gelax is seeking to open a permanent dimension-shift shop.'], 'store-size': 'Small', 'dataPageId': 'block-container', 'store-district': 'Midnight Market'}, 'block-11': {'price': '10 gold pieces', 'description': 'One bite provides an eloping mind free of worries as brain freeze delves into softly wiping away stray concerns.', 'type': 'specialties', 'dataPageId': 'block-container', 'name': 'Soul Numbing Sorbet'}, 'block-4': {'imgUrl': 'https://imagedelivery.net/SahcvrNe_-ej4lTB6vsAZA/4980ea1a-ffa1-47ec-062f-3caef0ed9700/public', 'sdprompt': 'A highly detailed fantasy watercolor painting of Gelax Frostclaw, an ice demon sorcerer, adorned in robes of snowy texture, crystalline skin glinting in the dim light, and perpetually smiling with frosty cunning.', 'type': 'image', 'dataPageId': 'block-container'}, 'block-7': {'reward': "A Frost Rune of Evercool which permanently chills an area of choice, and a listing in the 'Hall of Cream-Mortals'.", 'description': 'Patrons must design and withstand a taste-test of a sundae combining all their deepest culinary fears and desires. The sundae must cater to both palate and persuasion magical requirements.', 'type': 'quest', 'dataPageId': 'block-container', 'name': 'Eternal Sundae Challenge'}, 'block-5': {'description': 'A small, mischievous imp with icicle-like whiskers and buzzing wings, constantly tinkering with ingredients.', 'type': 'employee', 'role': 'Flavorsmith', 'species': 'Ice Imp', 'dataPageId': 'block-container', 'personality': 'Inventive and cheeky, Snerx loves concocting chaotic but delicious flavor combinations.', 'name': 'Snerx'}, 'block-3': {'class': 'Sorcerer', 'description': 'An imposing figure with shards of ice for skin, eyes resembling frozen pools, and antler-like horns. His presence alone chills the air.', 'type': 'owner', 'species': 'Ice Demon', 'secrets': ['He secretly imbues each batch of ice cream with spells that subtly influence emotions.'], 'dataPageId': 'block-container', 'personality': 'Charming yet cryptic, Gelax possesses a keen sense of wit paralleling his experimental flavor palettes.', 'name': 'Gelax Frostclaw'}, 'block-12': {'dataPageId': 'block-container', 'magical_items': [{'name': 'Icicle Cream Cone', 'type': 'Magical Item', 'properties': 'Perpetually frozen and never melts, Emits an aura of calm winter nights.', 'cost': '15 gold pieces'}], 'weapons': [], 'type': 'inventory', 'miscellaneous_items': [{'name': 'Frostwick Token', 'type': 'Coin', 'properties': 'Redeemable for a scoop of anything in the shop, Ice demon face etched on one side, fire elemental on the other.', 'cost': '1 gold piece'}], 'armor': [], 'core_inventory': [{'name': 'Infernal Sundae', 'type': 'Ice Cream', 'properties': 'Spicy-sweet sauce dribbled with sugary lava, Causes the consumer to experience gleeful flashbacks.', 'cost': '7 gold pieces'}, {'name': 'Chill Ripple Fudge', 'type': 'Ice Cream', 'properties': 'Velvety textures with frozen caramel streaks, Invokes feelings of nostalgia with each bite.', 'cost': '6 gold pieces'}, {'name': 'Ecliptic Mint Shivers', 'type': 'Ice Cream', 'properties': 'Refreshing mint with traces of celestial ice dust, Grants visions of otherworldly winter landscapes.', 'cost': '5 gold pieces'}, {'name': 'Fire and Frost Sorbet', 'type': 'Frozen Treat', 'properties': 'A fiery yet cold delight with spicy flavors dancing on the tongue, Provides sudden bursts of playful zest.', 'cost': '8 gold pieces'}, {'name': 'Celestial Neapolitan', 'type': 'Ice Cream', 'properties': 'A classic tri-layered treat with heavenly flavors, Enhances dreams with vibrant imagery.', 'cost': '9 gold pieces'}], 'potions': [{'name': 'Chilled Heart Elixir', 'type': 'Potion', 'properties': 'A frosty beverage topped with icicle shards, Instils tranquility and cool-headedness.', 'cost': '20 gold pieces'}], 'mundane_items': [], 'scrolls': []}, 'block-8': {'influence': 'Keeps well-informed and influential individuals about shifting popsicles and their latest offerings.', 'description': 'A half-elf gourmand in eternal culinary crisis, who often marvels at the stand, lost in choice yet enchanted by the chaotic flavors.', 'type': 'customer', 'dataPageId': 'block-container', 'name': 'Dolgrim the Undecided'}}}}

# Get first key of test_data
first_key = list(test_data.keys())[0]

# Extract title from first key
extract_title(test_data[first_key])